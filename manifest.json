{
   "name": "SilentTyping",
   "version": "1.0.0",
   "description": "Silences your typing indicator.",
   "authors": [
      {
         "name": "eternal",
         "id": "263689920210534400"
      }
   ]
}

{
   "ignore": [
      "dist/*",
      "dist"
   ],
   "exec": "npm run build",
   "ext": "*.*"
}

{
   "name": "plugin-template",
   "description": "Template for enmity plugins.",
   "version": "1.0.0",
   "license": "GPL-3.0",
   "author": "Zoey & eternal",
   "scripts": {
      "build": "rollup -c --configPlugin esbuild"
   },
   "devDependencies": {
      "@rollup/plugin-commonjs": "^21.0.1",
      "@rollup/plugin-json": "^4.1.0",
      "@rollup/plugin-node-resolve": "^13.1.1",
      "@types/node": "^17.0.5",
      "@typescript-eslint/eslint-plugin": "^5.8.1",
      "@typescript-eslint/parser": "^5.8.1",
      "esbuild": "^0.14.9",
      "eslint": "^8.5.0",
      "rollup": "^2.62.0",
      "rollup-plugin-esbuild": "^4.8.2"
   },
   "optionalDependencies": {
      "esbuild-darwin-64": "^0.14.21",
      "esbuild-darwin-arm64": "^0.14.21",
      "esbuild-linux-64": "^0.14.21",
      "esbuild-windows-64": "^0.14.21"
   },
   "dependencies": {
      "enmity": "*"
   }
}

import { nodeResolve } from '@rollup/plugin-node-resolve';
import commonjs from '@rollup/plugin-commonjs';
import esbuild from 'rollup-plugin-esbuild';
import json from '@rollup/plugin-json';

import manifest from './manifest.json';
import { defineConfig } from 'rollup';

export default defineConfig({
   input: 'src/index.tsx',
   output: [
      {
         file: `dist/${manifest.name}.js`,
         format: 'cjs',
         strict: false
      },
   ],
   plugins: [
      nodeResolve(),
      commonjs(),
      json(),
      esbuild({ minify: true, target: 'ES2019' })
   ]
});
